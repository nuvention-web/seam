extends ../dashboard/baseLayout

block content
	form(role='form', method='POST', action='#{action}', id='meetingCreation')
		if(isEdit == true)
			input#meetingId(type='hidden', name='meetingId', value='#{meeting._id}')
		.row
			.col-md-12.bg-white.border-gray.border-shadow-1x.border-round(style='min-height:150px; height:auto')
				if(isEdit == true)
					.row
						.col-md-10.col-sm-10.col-xs-10.margin-top-1p
							input.noEnterSubmit.text-h3.height-30x.form-control.border-square.border-none.text-left.bg-transparent.cursor-pointer(id='makeMeeting', type='text', name='meetingTitle', placeholder= 'Add meeting title', autofocus='autofocus', autocomplete='on', value='#{meeting.meetingTitle}', required)
					.row
						.col-md-10.col-sm-10.col-xs-10.margin-top-1p
							input.noEnterSubmit.text-h4.height-30x.text-orange.form-control.border-square.border-none.text-left.bg-transparent.cursor-pointer(id='makeMeeting', type='text', name='objective', placeholder= 'Add objective', autocomplete='on', value='#{meeting.objective}', required)
				else
					.row
						.col-md-10.col-sm-10.col-xs-10.margin-top-1p
							input.noEnterSubmit.text-h3.height-30x.form-control.border-square.border-none.text-left.bg-transparent.cursor-pointer(id='makeMeeting', type='text', name='meetingTitle', placeholder= 'Add meeting title', autofocus='autofocus', autocomplete='on', required)
					.row
						.col-md-10.col-sm-10.col-xs-10.margin-top-1p
							input.noEnterSubmit.text-h4.height-30x.text-orange.form-control.border-square.border-none.text-left.bg-transparent.cursor-pointer(id='makeMeeting', type='text', name='objective', placeholder= 'Add objective', autocomplete='on', required)
		.row.margin-top-2p.margin-bottom-3p
			.col-md-9
				.row.bg-white.border-gray.border-shadow-1x.margin-right-1p.margin-left.height-auto.padding-bottom-3p.border-round
					.container-95p.margin-center
						.row
							.col-md-6.margin-top-1p.padding-bottom-2p
								h4.text-left.text-normal.text-gray MEETING AGENDA
						#agendaBox
							if(isEdit == true)
								each agenda, i in meeting.agenda
									.row
										.col-md-1.margin-top-1p.padding-bottom-2p.margin-0.padding-0
											div.height-100p.width-100p
												.progress.progress-striped.progress-vertical-circle-bigger.progress-striped.active.progress-success.margin-top-n1x.margin-bottom-0p
													.bar(style="width:40px")
										.col-md-7.margin-0.padding-0
											input.noEnterSubmit.text-h3.height-30x.form-control.border-square.border-none.text-left.text-blue.bg-transparent.cursor-pointer(id='makeMeeting1', type='text', name='agendaTopic', placeholder= 'Add agenda item', autocomplete='on', value='#{agenda.topic}', required)
										.col-md-3
											input.noEnterSubmit.text-h3.height-30x.form-control.border-square.border-none.text-right.bg-transparent.cursor-pointer(id='makeMeeting1', type='number', name='duration', placeholder= 'Minutes', autocomplete='on', value='#{agenda.duration}', required)
									.row
										.col-md-1.margin-top-1p.padding-bottom-2p.margin-0.padding-0
											div.height-100p.width-100p
												.progress.progress-striped.progress-vertical-line-shorter.progress-striped.active.progress-success.margin-top-n1x.margin-bottom-0p
													.bar(style="width:40px")
										.col-md-9.margin-0.padding-0
											div.width-95p.margin-top-1p.overflow-scroll-y-auto.max-height-150x
												textarea.text-h4.height-30x.form-control.border-square.border-none.text-left.bg-transparent.cursor-pointer(rows='6', id='makeMeeting1', type='text', name='notes', placeholder= 'Add notes', value='#{agenda.notes[0].notes}', autocomplete='on') #{agenda.notes[0].notes}
							else
								.row
									.col-md-1.margin-top-1p.padding-bottom-2p.margin-0.padding-0
										div.height-100p.width-100p
											.progress.progress-striped.progress-vertical-circle-bigger.progress-striped.active.progress-success.margin-top-n1x.margin-bottom-0p
												.bar(style="width:40px")
									.col-md-7.margin-0.padding-0
										input.noEnterSubmit.text-h3.height-30x.form-control.border-square.border-none.text-left.text-blue.bg-transparent.cursor-pointer(id='makeMeeting1', type='text', name='agendaTopic', placeholder= 'Add agenda item', autocomplete='on', required)
									.col-md-3
										input.noEnterSubmit.text-h3.height-30x.form-control.border-square.border-none.text-right.bg-transparent.cursor-pointer(id='makeMeeting1', type='number', name='duration', placeholder= 'Minutes', autocomplete='on', required)
								.row
									.col-md-1.margin-top-1p.padding-bottom-2p.margin-0.padding-0
										div.height-100p.width-100p
											.progress.progress-striped.progress-vertical-line-shorter.progress-striped.active.progress-success.margin-top-n1x.margin-bottom-0p
												.bar(style="width:40px")
									.col-md-9.margin-0.padding-0
										div.width-95p.margin-top-1p.overflow-scroll-y-auto.max-height-150x
											textarea.text-h4.height-30x.form-control.border-square.border-none.text-left.bg-transparent.cursor-pointer(rows='6', id='makeMeeting1', type='text', name='notes', placeholder= 'Insert notes here', autocomplete='on')
						.row
							.col-md-1.margin-top-1p.padding-bottom-2p.margin-0.padding-0
									div.height-100p.width-100p
										.progress.progress-striped.progress-vertical-circle-bigger.progress-striped.active.progress-success.margin-top-n1x.margin-bottom-0p
											.bar(style="width:40px")
							.col-md-11.margin-0.padding-0
								div.width-95p.margin-top-1p.margin-left-1p
									a#addAgendaItem.text-blue.text-h3.margin-0(href="#" onclick="addAgendaItem()") Add more agenda items
			.col-md-3
				.row.height-auto.bg-white.border-gray.border-shadow-1x.margin-left-1p.overflow-scroll-y-auto.overflow-x-hidden.padding-bottom-10p.border-round
					.col-md-12.margin-top-1p.margin-left-3p
						h4.text-left.text-normal.text-gray.margin-left-4p MEETING INFORMATION
						.container-95p.margin-center.margin-top-5p
						if(isEdit == true)
								.row
									.col-md-12
										input.noEnterSubmit.text-h4.height-30x.text-orange.form-control.border-square.border-none.text-left.bg-transparent.cursor-pointer(id='makeMeeting', type='text', name='location', placeholder= 'Location', autocomplete='on', value='#{meeting.location}', required)
								.row 
									.col-md-12
										input.noEnterSubmit.text-h4.height-30x.text-black.form-control.border-square.border-none.text-left.bg-transparent.cursor-pointer(id='makeMeeting', type='text', name='meetingDate', placeholder= 'MM/DD/YYYY HH:MM', autocomplete='on', value='#{meetingDate}', required)
								.row 
									.col-md-6
										h4.text-left.text-gray.margin-left-10x DURATION
									.col-md-6
										input.margin-top-5x.text-h3.text-gray.text-left.noEnterSubmit(id='makeMeeting', type='text', name='meetingTime', placeholder="DURATION" autocomplete='off', value='#{meetingDuration}', readonly)
							else
								.row
									.col-md-12
										input.noEnterSubmit.text-h4.height-30x.text-orange.form-control.border-square.border-none.text-left.bg-transparent.cursor-pointer(id='makeMeeting', type='text', name='location', placeholder= 'Location', autocomplete='on', required)
								.row 
									.col-md-12
										input.noEnterSubmit.text-h4.height-30x.text-black.form-control.border-square.border-none.text-left.bg-transparent.cursor-pointer(id='makeMeeting', type='text', name='meetingDate', placeholder= 'MM/DD/YYYY HH:MM', autocomplete='on', required)
								.row 
									.col-md-6
										h4.text-left.text-gray.margin-left-10x Duration
									.col-md-6
										input.margin-top-5x.text-h3.text-gray.text-left.noEnterSubmit(id='makeMeeting', type='text', name='meetingTime', placeholder="DURATION" autocomplete='off', value='0', readonly)
				.row.height-auto.bg-white.border-gray.border-shadow-1x.margin-left-1p.overflow-scroll-y-auto.overflow-x-hidden.margin-top-10p.padding-bottom-5p.border-round
					.col-md-12.margin-top-1p.margin-left-3p
						h4.text-left.text-normal.text-gray.margin-left-4p ATTENDEES
						.container-95p.margin-center.margin-top-5p
								.row.max-height-150x.overflow-scroll-y-auto.overflow-x-hidden
									.row
										h5.text-normal Previous Attendees
									if(contact!=null)
										each member, i in contact.contacts
											.row
												.col-md-1
													input(type="checkbox", name="attendeeEmail", value='#{member.memberEmail}')
													input(type="hidden", name="attendeeName", value='#{member.memberName}')
												.col-md-10.margin-top-n5x
													h5.text-left #{member.memberEmail}
									else
										h5.text-gray.text-italic None yet - add your first attendee below.
								div#attendeeList
									if(isEdit == true)
										each attendee, i in meeting.attendees
											if(i == 0)
												.row
													input(type='hidden', name='attendeeName', value='#{attendee.attendeeName}')
													input(type='hidden', name='attendeeEmail', value='#{attendee.attendeeEmail}')
													//div.col-md-3.margin-top-5p
														img.width-50x.height-50x.border-50p.float-right(src='../../../images/member.png')
													//div.col-md-6.margin-top-7p
														h4.text-black.text-left You
													//div.col-md-1.margin-top-9p
														a.text-h2.text-normal.text-gray-hover
											else
												.row(id='attendee#{i}')
													input(type='hidden', name='attendeeName', value='#{attendee.attendeeName}')
													input(type='hidden', name='attendeeEmail', value='#{attendee.attendeeEmail}')
													div.col-md-3.margin-top-5p
														img.width-50x.height-50x.border-50p(src='../../../images/member.png')
													div.col-md-6
														h4.text-black.text-left.margin-top-5p #{attendee.attendeeName}
													div.col-md-1
														a.text-h2.text-normal.text-gray-hover(href='#', onclick="deleteAttendee(attendee#{i});return false;")
															i.fa.fa-times.fa-md
									else
										.row
											input(type='hidden', name='attendeeName', value='#{name}')
											input(type='hidden', name='attendeeEmail', value='#{email}')
											//div.col-md-3.margin-top-5p
												img.width-50x.height-50x.border-50p.float-right(src='../../../images/member.png')
											//div.col-md-6.margin-top-7p
												h4.text-black.text-left.margin-top-5p You
								.row.margin-top-5p#addNewAttendee
									.col-md-8
										input.noEnterSubmit.form-control.border-square.text-left.border-none.cursor-pointer(type='text', name='nameHolder', value='', id='nameHolder', placeholder= 'Name', tabindex='1')
								.row
									.col-md-12
										input.noEnterSubmit.form-control.border-square.text-left.border-none.cursor-pointer(type='text', name='emailHolder', value='', id='emailHolder', placeholder= 'Email', tabindex='2')
								.row
									.col-md-4.col-md-offset-4.margin-top-3p 
										button.border-square.btn-blue-hover.padding-btn-lg.margin-left-5p(type='button' onclick='addAttendee()', tabindex='3') ADD
				.row.margin-left-1p
					.col-md-12.col-sm-12.col-xs-12.margin-top-1p.text-left.margin-top-2p.text-center.margin-top-10p
						if(isEdit == true)
							button.border-square.btn-blue-hover.text-h3.padding-btn(type='submit') UPDATE AGENDA
						else
							button.border-square.btn-blue-hover.text-h3.padding-btn(type='submit') SEND AGENDA
	script(src='../../../javascripts/moment-2.4.0.js')
	script(src='../../../javascripts/bootstrap-datetimepicker.min.js')
	link(rel='stylesheet', href='../../../stylesheets/bootstrap-datetimepicker.css')
	link(rel='stylesheet', href='//netdna.bootstrapcdn.com/bootstrap/3.0.0-rc2/css/bootstrap-glyphicons.css')
	script(src='../../../javascripts/meetings-addAgenda.js')